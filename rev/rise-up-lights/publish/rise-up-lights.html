<!DOCTYPE html>
<html><head><title>Rise-Up Lights</title><style>
* { text-align: center; font-family: verdana; }
polygon { stroke: black; stroke-width: 0.06; }
polygon:not(.l) { filter: brightness(0.25); }
polygon.c0 { fill: cyan; }
polygon.c1 { fill: gold; }
polygon.c2 { fill: lime; }
svg { user-select: none; }
</style></head><body><svg id="s" width="720" viewBox="-0.05 -0.05 71.1 65.1" />
<p>You have illuminated <span id="p">0</span>% of Australia.</p>
<p id="q">You win a flag if you hit 100%.</p><script>
((...g)=>{R=n=>[...Array(n).keys()]; makePoint=(x,y)=>(y<<16)+x; X=p=>p<<16>>16; Y=p=>1+(p>>15)>>1; S=(p,q)=>(g[Y(q)]||[])[X(q)]==g[Y(p)][X(p)];N=p=>[[0,1],[0,-1],[1,0
],[-1,0]]. map(q=>makePoint(...q)+p). filter(q=>S(p,q)); Z=new Set([].concat(...R(g.length). map(y=>R(g[y].length). filter(x=>g[y][x]!=' '). map(x=>makePoint(x,y)))));
while(Z.size){A=Z.keys().next().value;Z.delete(A);for(Q=[A];Q.length;Q=[].concat(...Q.map(N)).filter(m=>Z.delete(m)));G=p=>makePoint(-Y(p),X(p));H=p=>(p+G(p)-makePoint
(1,1))>>1; [I,J,C]=[A,makePoint(0,-1),[]]; do{if(!S(A, I+H(J))){C=C.concat(I); J=G(J);}else if(S(A,I+H(-G(J)))) {C=C.concat(I);J=-G(J);}}while((I+=J)!=A); pg=document.
createElementNS("http://www.w3.org/2000/svg",'polygon'); pg.setAttribute('points',[].concat(...C.map (p=>[X(p),Y(p)])).join(' '));pg.classList.add('c'+~~(g[Y(A)][X(A)]
/3)); s.appendChild(pg);} ps=[...s.querySelectorAll('*')]; good=([a,b,c,d])=>Math.max(a,b)>Math.min(c,d)&&Math.min(a,b)<Math.max(c,d); M=(xs,ys)=>new Set(xs).size==1&&
good(ys)||new Set(ys).size ==1&&good(xs); MP=ps=>M(ps.map(p=>p.x), ps.map(p=>p.y)); B=(E,F)=>R(E.numberOfItems) .some(i=>R(F.numberOfItems).some(j=>MP([E.getItem(i),E.
getItem ((i+1)%E.numberOfItems), F.getItem(j), F.getItem((j+1)%F .numberOfItems)]))); ps.forEach(U=>U.addEventListener('click', _=>{ps.filter(V=>B(U.points,V.points)).
forEach(K=>K.classList.toggle('l'));U.classList.toggle('h');p.textContent=P=s.querySelectorAll('.l').length/10;if(P==100)q.textContent=R(50).map(i=>String.fromCharCode
(('+w"NcI[N0rl^4N."}!d0wDuZwm9S.Vv09Gzab[TmHS^qoduR(a' .charCodeAt(i)+parseInt(R(20) .map(j=>~~ps[i+j*50].classList.contains('h')).join(''),2))%97+31)) .join('')}))})(
"                                 33                1                   ",
"                             454  55              22                   ",
"                               45344433 55        110                  ",
"                              55453345553         120                  ",
"                              3355354453          222                  ",
"                        1    34355554443          002                  ",
"                     00222   4333535435           00221                ",
"                    01100121543445343355          121021               ",
"                    012020004435454554344        1112112               ",
"                  1 20000221554434343444554      00102111              ",
"                0 102110212144544435353553511    22221221              ",
"                211121200001335544535334353221  1020200121             ",
"                011210120110555443345553535221122212102120             ",
"               2102010121200555553445444545210211220200112             ",
"               1222202000100543333444544543121102101220010             ",
"              0102221200001054433543335543420221100210121111           ",
"          2112111220002101115533434335555342120122012021221020         ",
"        111000120100121122005434444345334451102000020220121020         ",
"     1112211021121212112220153355453435453310022212222101000111        ",
"   2022010212012222011012200343434554434555102020120022202012111       ",
" 111220122211121222002012211355334543344454221102102202111222200       ",
" 20011200100011002221212012233354544454354412011011222120110221002     ",
" 22221001022210020101112122233443435535343402102212101212012222202     ",
"0102022220102202102121102011554355545455433120001221202202111000011    ",
"11020212001211022222100002025535454454533552121010022121101201002122   ",
" 12221010220020210102111012153433434344534311001120101221200212201122  ",
" 221200120102101202020022220353354533434543011100100001011202110121110 ",
"0112220121210112120222220212535535435433434221111100211020110002121201 ",
"1012202022111200200201210112886677668877866777876021221201000121002012 ",
" 101000102122100012201110201876877786778687687777120202121002202021002 ",
" 101002112101020222000021212777886776678868677877220210122102200002020 ",
" 1010110120102202200121220026768678868666767766781000121210110020111010",
"  221021102220010120101012027688766886878888778680100022220112211002244",
"  121022012210012200111202217886677867688867787672201001111101043441333",
"   2221020021121220200202101868767866678888887867535554555544545535533 ",
"   2001021020210011010122122886767788687776786877335335533354555545455 ",
"   2111210121002221112202020777877767666678886667543555434443343333545 ",
"   1010211121211100222010221786886888766868676686544555343533535534354 ",
"    110201210120222002022200876667776768687877867335534355543345345434 ",
"    21121012210121110100202      678678688876886635533344335343535333  ",
"    100202021020021020              766788867686855335534434434454343  ",
"    01212000202011022                7767678886883544555355435555453   ",
"    210122121002010                   6768 676666454443355555435435    ",
"   011020102022101                    7777 868668553354343443344435    ",
"   11101210                            8   76668712444454334354333     ",
"     0002                              8    6668612514345433545353     ",
"                                            8676822003334534555533     ",
"                                             86762000134534333643      ",
"                                              8762121012212005545      ",
"                                               770001112112223434      ",
"                                               870021212211011254      ",
"                                               76202100120022000       ",
"                                                8022122 22111          ",
"                                                   002 22020           ",
"                                                         1             ",
"                                                                       ",
"                                                                       ",
"                                                                       ",
"                                                                       ",
"                                                       87  878         ",
"                                                       8886886         ",
"                                                        688677         ",
"                                                         7788          ",
"                                                        68688          ",
"                                                         7686          ",
)</script></body></html>